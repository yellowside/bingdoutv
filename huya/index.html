<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>聚合直播 - 冰豆直播</title>
<meta name="Keywords" content="游戏直播,赛事直播,美女直播,户外直播,视频直播" />
<meta name="description" content="提供热门游戏直播、电竞赛事直播与游戏赛事直播，手游直播等。" />
<link href="https://cdnjs.bingdou.com.cn/bingdoulive/css/style.css" rel="stylesheet">
<link href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body oncontextmenu="return false" onselectstart="return false">
<header>
  <div class="header wrap">
  <h1 class="logo"><a href="/" title="冰豆直播"><i class="fa fa-video-camera"></i>冰豆直播</a></h1>
  <div class="menu">
    <div class="menu-icon"></div>
    <div class="menu-container" id="menu"></div>
  </div>
</div>
</header>
<main class="wrap">
<section class="list wrap-inner">
    <div class="list-header">
      <h3 id="playing-title">正在播放 - 加载中...</h3>
    </div>
    <div class="list-w list-box" style="margin-bottom:20px;margin-right:0">
      <iframe id="playbox" allowfullscreen="true" frameborder="no" height="100%" width="100%" scrolling="no" src=""></iframe>
    </div>
</section>
<section class="list wrap-inner">
    <div class="list-header">
      <h3>经典系列</h3>
    </div>
    <div class="list-w list-box playlist">
			<li><a href="./player/?id=11342412" target="_blank" title="周星驰系列">周星驰系列</a></li>
			<li><a href="./player/?id=11342386" target="_blank" title="成龙经典武打动作片">成龙系列</a></li>
			<li><a href="./player/?id=11342424" target="_blank" title="刘德华系列电影">刘德华系列</a></li>
			<li><a href="./player/?id=11342387" target="_blank" title="周润发系列电影">周润发系列</a></li>
			<li><a href="./player/?id=11342421" target="_blank" title="林正英搞笑僵尸系列">林正英系列</a></li>
			<li><a href="./player/?id=11601968" target="_blank" title="沈腾经典片">沈腾系列</a></li>
			<li><a href="./player/?id=11282233" target="_blank" title="五福星搞笑系列">五福星系列</a></li>
			<li><a href="./player/?id=11342390" target="_blank" title="李连杰武打系列">李连杰系列</a></li>
			<li><a href="./player/?id=11342427" target="_blank" title="金庸群侠篇电影">金庸系列</a></li>
	</div>
</section>
<section class="list wrap-inner">
    <div class="list-header">
      <h3>直播分类</h3>
    </div>
    <div class="list-w list-box playlist">
      <li><a href="./list/?id=2135&name=影视轮播" target="_blank" title="影视轮播">影视轮播</a></li>
			<li><a href="./list/?id=2633&name=二次元" target="_blank" title="二次元">二次元</a></li>
			<li><a href="./list/?id=6861&name=原创" target="_blank" title="原创">原创</a></li>
			<li><a href="./list/?id=2168&name=颜值" target="_blank" title="颜值">颜值</a></li>
			<li><a href="./list/?id=2356&name=体育" target="_blank" title="体育">体育</a></li>
			<li><a href="./list/?id=100022&name=娱乐天地" target="_blank" title="娱乐天地">娱乐天地</a></li>
			<li><a href="./list/?id=100023&name=网游竞技" target="_blank" title="网游竞技">网游竞技</a></li>
			<li><a href="./list/?id=100002&name=单机热游" target="_blank" title="单机热游">单机热游</a></li>
			<li><a href="./list/?id=100004&name=手游休闲" target="_blank" title="手游休闲">手游休闲</a></li>
	</div>
</section>
</main>
<footer id="foot"></footer>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
<script>
$('#menu').load('../menu.html');
$('#foot').load('../foot.html');
</script>
<script>
    const apiUrl = 'https://json.bingdou.cc/huya/?id=11342412';

    fetch(apiUrl)
      .then(response => {
        if (!response.ok) {
          throw new Error('网络响应失败');
        }
        return response.json();
      })
      .then(data => {
        if (data && data.data && data.data.length > 0) {
          const m3u8 = data.data[0].url;
          const title = data.title;

          // 设置标题
          document.getElementById('playing-title').innerText = '正在播放 - ' + title;

          // 设置 iframe 播放器
          const encodedUrl = btoa(m3u8); // base64 编码
          document.getElementById('playbox').src = 'https://player.misidao.cn/base64/live/?url=' + encodedUrl;
        } else {
          document.getElementById('playing-title').innerText = '没有找到直播流';
          document.getElementById('playbox').style.display = 'none';
        }
      })
      .catch(error => {
        console.error('加载失败:', error);
        document.getElementById('playing-title').innerText = '加载直播流失败';
        document.getElementById('playbox').style.display = 'none';
      });
  </script>
</body>
</html>